\hypertarget{interface_m_q_t_t_session_manager}{}\section{M\+Q\+T\+T\+Session\+Manager Class Reference}
\label{interface_m_q_t_t_session_manager}\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}


{\ttfamily \#import $<$M\+Q\+T\+T\+Session\+Manager.\+h$>$}

Inheritance diagram for M\+Q\+T\+T\+Session\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{interface_m_q_t_t_session_manager}
\end{center}
\end{figure}
\subsection*{Instance Methods}
\begin{DoxyCompactItemize}
\item 
(\hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} $\ast$) -\/ \hyperlink{interface_m_q_t_t_session_manager_a40c9ac2c9110a250caf35b16ff03f008}{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:max\+Connection\+Retry\+Interval\+:connect\+In\+Foreground\+:}
\item 
(\hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} $\ast$) -\/ \hyperlink{interface_m_q_t_t_session_manager_acae1db469b891501860bc1fbcfb5d7d7}{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:connect\+In\+Foreground\+:}
\item 
(\hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} $\ast$) -\/ \hyperlink{interface_m_q_t_t_session_manager_ae57cebdca6694242b821cf089fea458d}{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:}
\item 
(void) -\/ \hyperlink{interface_m_q_t_t_session_manager_a81d38d54b7a1e1feea69ac4e80a7ff51}{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:protocol\+Level\+:}
\item 
(void) -\/ \hyperlink{interface_m_q_t_t_session_manager_af3e7b52cf514bd47d5ec140dba16abf5}{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:}
\item 
(void) -\/ \hyperlink{interface_m_q_t_t_session_manager_a1c0903acd31887dfa1e1d16039aa53ec}{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:}
\item 
(void) -\/ \hyperlink{interface_m_q_t_t_session_manager_a4ebc8a89857aeae6377861c8fea310d2}{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+Topic\+:will\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:}
\item 
(void) -\/ \hyperlink{interface_m_q_t_t_session_manager_a6bd1e45c0504df0b0d2599f86f84f884}{connect\+To\+Last}
\item 
(U\+Int16) -\/ \hyperlink{interface_m_q_t_t_session_manager_a7755c32b246dcefc8ad6d50a51f2e616}{send\+Data\+:topic\+:qos\+:retain\+:}
\item 
(void) -\/ \hyperlink{interface_m_q_t_t_session_manager_a71161804d040ca10e164578d7e7eb855}{disconnect}
\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\hyperlink{interface_m_q_t_t_session}{M\+Q\+T\+T\+Session} $\ast$ \hyperlink{interface_m_q_t_t_session_manager_ab85b572d885a43b0faa79373a9cc6913}{session}
\item 
N\+S\+String $\ast$ \hyperlink{interface_m_q_t_t_session_manager_a9254ba4654f77ec3ff37dab05cd1d4d1}{host}
\item 
U\+Int32 \hyperlink{interface_m_q_t_t_session_manager_aba240cdc089994d549452cbaecc6af4a}{port}
\item 
id$<$ M\+Q\+T\+T\+Session\+Manager\+Delegate $>$ \hyperlink{interface_m_q_t_t_session_manager_abc07e05f3c0593b0bd851e8d69255381}{delegate}
\item 
N\+S\+Dictionary$<$ N\+S\+String $\ast$, N\+S\+Number $\ast$ $>$ $\ast$ \hyperlink{interface_m_q_t_t_session_manager_a58ff79b8f16b7172d6466dfe55927428}{subscriptions}
\item 
N\+S\+Dictionary$<$ N\+S\+String $\ast$, N\+S\+Number $\ast$ $>$ $\ast$ \hyperlink{interface_m_q_t_t_session_manager_a2c6507254d370d9f860b299608b37280}{effective\+Subscriptions}
\item 
M\+Q\+T\+T\+Session\+Manager\+State \hyperlink{interface_m_q_t_t_session_manager_a4caf1f5fe21b8d36700d97b68b3bf978}{state}
\item 
N\+S\+Error $\ast$ \hyperlink{interface_m_q_t_t_session_manager_aa2522a9c3be18812cea22cf2f6a40754}{last\+Error\+Code}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Session\+Manager handles the M\+Q\+TT session for your application 

\subsection{Method Documentation}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_a1c0903acd31887dfa1e1d16039aa53ec}\label{interface_m_q_t_t_session_manager_a1c0903acd31887dfa1e1d16039aa53ec}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:}}
\index{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:()}{connectTo:port:tls:keepalive:clean:auth:user:pass:will:willTopic:willMsg:willQos:willRetainFlag:withClientId:()}}
{\footnotesize\ttfamily -\/ (void) connect\+To\+: \begin{DoxyParamCaption}\item[{(N\+S\+String $\ast$)}]{host }\item[{port:(N\+S\+Integer)}]{port }\item[{tls:(B\+O\+OL)}]{tls }\item[{keepalive:(N\+S\+Integer)}]{keepalive }\item[{clean:(B\+O\+OL)}]{clean }\item[{auth:(B\+O\+OL)}]{auth }\item[{user:(N\+S\+String $\ast$)}]{user }\item[{pass:(N\+S\+String $\ast$)}]{pass }\item[{will:(B\+O\+OL)}]{will }\item[{willTopic:(N\+S\+String $\ast$)}]{will\+Topic }\item[{willMsg:(N\+S\+Data $\ast$)}]{will\+Msg }\item[{willQos:(M\+Q\+T\+T\+Qos\+Level)}]{will\+Qos }\item[{willRetainFlag:(B\+O\+OL)}]{will\+Retain\+Flag }\item[{withClientId:(N\+S\+String $\ast$)}]{client\+Id }\end{DoxyParamCaption}}

Convenience alternative to full paramter connect\+To 
\begin{DoxyParams}{Parameters}
{\em host} & see connect\+To description \\
\hline
{\em port} & see connect\+To description \\
\hline
{\em tls} & see connect\+To description \\
\hline
{\em keepalive} & see connect\+To description \\
\hline
{\em clean} & see connect\+To description \\
\hline
{\em auth} & see connect\+To description \\
\hline
{\em user} & see connect\+To description \\
\hline
{\em pass} & see connect\+To description \\
\hline
{\em will} & see connect\+To description \\
\hline
{\em will\+Topic} & see connect\+To description \\
\hline
{\em will\+Msg} & see connect\+To description \\
\hline
{\em will\+Qos} & see connect\+To description \\
\hline
{\em will\+Retain\+Flag} & see connect\+To description \\
\hline
{\em client\+Id} & see connect\+To description \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_af3e7b52cf514bd47d5ec140dba16abf5}\label{interface_m_q_t_t_session_manager_af3e7b52cf514bd47d5ec140dba16abf5}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:}}
\index{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:()}{connectTo:port:tls:keepalive:clean:auth:user:pass:will:willTopic:willMsg:willQos:willRetainFlag:withClientId:securityPolicy:certificates:()}}
{\footnotesize\ttfamily -\/ (void) connect\+To\+: \begin{DoxyParamCaption}\item[{(N\+S\+String $\ast$)}]{host }\item[{port:(N\+S\+Integer)}]{port }\item[{tls:(B\+O\+OL)}]{tls }\item[{keepalive:(N\+S\+Integer)}]{keepalive }\item[{clean:(B\+O\+OL)}]{clean }\item[{auth:(B\+O\+OL)}]{auth }\item[{user:(N\+S\+String $\ast$)}]{user }\item[{pass:(N\+S\+String $\ast$)}]{pass }\item[{will:(B\+O\+OL)}]{will }\item[{willTopic:(N\+S\+String $\ast$)}]{will\+Topic }\item[{willMsg:(N\+S\+Data $\ast$)}]{will\+Msg }\item[{willQos:(M\+Q\+T\+T\+Qos\+Level)}]{will\+Qos }\item[{willRetainFlag:(B\+O\+OL)}]{will\+Retain\+Flag }\item[{withClientId:(N\+S\+String $\ast$)}]{client\+Id }\item[{securityPolicy:(\hyperlink{interface_m_q_t_t_s_s_l_security_policy}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy} $\ast$)}]{security\+Policy }\item[{certificates:(N\+S\+Array $\ast$)}]{certificates }\end{DoxyParamCaption}}

Connects to the M\+Q\+TT broker and stores the parameters for subsequent reconnects 
\begin{DoxyParams}{Parameters}
{\em host} & specifies the hostname or ip address to connect to. Defaults to "localhost". \\
\hline
{\em port} & specifies the port to connect to \\
\hline
{\em tls} & specifies whether to use S\+SL or not \\
\hline
{\em keepalive} & The Keep Alive is a time interval measured in seconds. The M\+Q\+T\+T\+Client ensures that the interval between Control Packets being sent does not exceed the Keep Alive value. In the absence of sending any other Control Packets, the Client sends a P\+I\+N\+G\+R\+EQ Packet. \\
\hline
{\em clean} & specifies if the server should discard previous session information. \\
\hline
{\em auth} & specifies the user and pass parameters should be used for authenthication \\
\hline
{\em user} & an N\+S\+String object containing the user\textquotesingle{}s name (or ID) for authentication. May be nil. \\
\hline
{\em pass} & an N\+S\+String object containing the user\textquotesingle{}s password. If user\+Name is nil, password must be nil as well. \\
\hline
{\em will} & indicates whether a will shall be sent \\
\hline
{\em will\+Topic} & the Will Topic is a string, may be nil \\
\hline
{\em will\+Msg} & the Will Message, might be zero length or nil \\
\hline
{\em will\+Qos} & specifies the QoS level to be used when publishing the Will Message. \\
\hline
{\em will\+Retain\+Flag} & indicates if the server should publish the Will Messages with retain\+Flag. \\
\hline
{\em client\+Id} & The Client Identifier identifies the Client to the Server. If nil, a random client\+Id is generated. \\
\hline
{\em security\+Policy} & A custom S\+SL security policy or nil. \\
\hline
{\em certificates} & An N\+S\+Array of the pinned certificates to use or nil. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_a81d38d54b7a1e1feea69ac4e80a7ff51}\label{interface_m_q_t_t_session_manager_a81d38d54b7a1e1feea69ac4e80a7ff51}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:protocol\+Level\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:protocol\+Level\+:}}
\index{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:protocol\+Level\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:protocol\+Level\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+:will\+Topic\+:will\+Msg\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:security\+Policy\+:certificates\+:protocol\+Level\+:()}{connectTo:port:tls:keepalive:clean:auth:user:pass:will:willTopic:willMsg:willQos:willRetainFlag:withClientId:securityPolicy:certificates:protocolLevel:()}}
{\footnotesize\ttfamily -\/ (void) connect\+To\+: \begin{DoxyParamCaption}\item[{(N\+S\+String $\ast$)}]{host }\item[{port:(N\+S\+Integer)}]{port }\item[{tls:(B\+O\+OL)}]{tls }\item[{keepalive:(N\+S\+Integer)}]{keepalive }\item[{clean:(B\+O\+OL)}]{clean }\item[{auth:(B\+O\+OL)}]{auth }\item[{user:(N\+S\+String $\ast$)}]{user }\item[{pass:(N\+S\+String $\ast$)}]{pass }\item[{will:(B\+O\+OL)}]{will }\item[{willTopic:(N\+S\+String $\ast$)}]{will\+Topic }\item[{willMsg:(N\+S\+Data $\ast$)}]{will\+Msg }\item[{willQos:(M\+Q\+T\+T\+Qos\+Level)}]{will\+Qos }\item[{willRetainFlag:(B\+O\+OL)}]{will\+Retain\+Flag }\item[{withClientId:(N\+S\+String $\ast$)}]{client\+Id }\item[{securityPolicy:(\hyperlink{interface_m_q_t_t_s_s_l_security_policy}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy} $\ast$)}]{security\+Policy }\item[{certificates:(N\+S\+Array $\ast$)}]{certificates }\item[{protocolLevel:(M\+Q\+T\+T\+Protocol\+Version)}]{protocol\+Level }\end{DoxyParamCaption}}

Connects to the M\+Q\+TT broker and stores the parameters for subsequent reconnects 
\begin{DoxyParams}{Parameters}
{\em host} & specifies the hostname or ip address to connect to. Defaults to "localhost". \\
\hline
{\em port} & specifies the port to connect to \\
\hline
{\em tls} & specifies whether to use S\+SL or not \\
\hline
{\em keepalive} & The Keep Alive is a time interval measured in seconds. The M\+Q\+T\+T\+Client ensures that the interval between Control Packets being sent does not exceed the Keep Alive value. In the absence of sending any other Control Packets, the Client sends a P\+I\+N\+G\+R\+EQ Packet. \\
\hline
{\em clean} & specifies if the server should discard previous session information. \\
\hline
{\em auth} & specifies the user and pass parameters should be used for authenthication \\
\hline
{\em user} & an N\+S\+String object containing the user\textquotesingle{}s name (or ID) for authentication. May be nil. \\
\hline
{\em pass} & an N\+S\+String object containing the user\textquotesingle{}s password. If user\+Name is nil, password must be nil as well. \\
\hline
{\em will} & indicates whether a will shall be sent \\
\hline
{\em will\+Topic} & the Will Topic is a string, may be nil \\
\hline
{\em will\+Msg} & the Will Message, might be zero length or nil \\
\hline
{\em will\+Qos} & specifies the QoS level to be used when publishing the Will Message. \\
\hline
{\em will\+Retain\+Flag} & indicates if the server should publish the Will Messages with retain\+Flag. \\
\hline
{\em client\+Id} & The Client Identifier identifies the Client to the Server. If nil, a random client\+Id is generated. \\
\hline
{\em security\+Policy} & A custom S\+SL security policy or nil. \\
\hline
{\em certificates} & An N\+S\+Array of the pinned certificates to use or nil. \\
\hline
{\em protocol\+Level} & Protocol version of the connection. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_a4ebc8a89857aeae6377861c8fea310d2}\label{interface_m_q_t_t_session_manager_a4ebc8a89857aeae6377861c8fea310d2}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+Topic\+:will\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+Topic\+:will\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:}}
\index{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+Topic\+:will\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:@{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+Topic\+:will\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{connect\+To\+:port\+:tls\+:keepalive\+:clean\+:auth\+:user\+:pass\+:will\+Topic\+:will\+:will\+Qos\+:will\+Retain\+Flag\+:with\+Client\+Id\+:()}{connectTo:port:tls:keepalive:clean:auth:user:pass:willTopic:will:willQos:willRetainFlag:withClientId:()}}
{\footnotesize\ttfamily -\/ (void) connect\+To\+: \begin{DoxyParamCaption}\item[{(N\+S\+String $\ast$)}]{host }\item[{port:(N\+S\+Integer)}]{port }\item[{tls:(B\+O\+OL)}]{tls }\item[{keepalive:(N\+S\+Integer)}]{keepalive }\item[{clean:(B\+O\+OL)}]{clean }\item[{auth:(B\+O\+OL)}]{auth }\item[{user:(N\+S\+String $\ast$)}]{user }\item[{pass:(N\+S\+String $\ast$)}]{pass }\item[{willTopic:(N\+S\+String $\ast$)}]{will\+Topic }\item[{will:(N\+S\+Data $\ast$)}]{will }\item[{willQos:(M\+Q\+T\+T\+Qos\+Level)}]{will\+Qos }\item[{willRetainFlag:(B\+O\+OL)}]{will\+Retain\+Flag }\item[{withClientId:(N\+S\+String $\ast$)}]{client\+Id }\end{DoxyParamCaption}}

Convenience alternative to full paramter connect\+To 
\begin{DoxyParams}{Parameters}
{\em host} & see connect\+To description \\
\hline
{\em port} & see connect\+To description \\
\hline
{\em tls} & see connect\+To description \\
\hline
{\em keepalive} & see connect\+To description \\
\hline
{\em clean} & see connect\+To description \\
\hline
{\em auth} & see connect\+To description \\
\hline
{\em user} & see connect\+To description \\
\hline
{\em pass} & see connect\+To description \\
\hline
{\em will\+Topic} & the Will Topic is a string, must not be nil \\
\hline
{\em will} & the Will Message, might be zero length \\
\hline
{\em will\+Qos} & see connect\+To description \\
\hline
{\em will\+Retain\+Flag} & see connect\+To description \\
\hline
{\em client\+Id} & see connect\+To description \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_a6bd1e45c0504df0b0d2599f86f84f884}\label{interface_m_q_t_t_session_manager_a6bd1e45c0504df0b0d2599f86f84f884}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!connect\+To\+Last@{connect\+To\+Last}}
\index{connect\+To\+Last@{connect\+To\+Last}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{connect\+To\+Last()}{connectToLast()}}
{\footnotesize\ttfamily -\/ (void) connect\+To\+Last \begin{DoxyParamCaption}{ }\end{DoxyParamCaption}}

Re-\/\+Connects to the M\+Q\+TT broker using the parameters for given in the connect\+To method \mbox{\Hypertarget{interface_m_q_t_t_session_manager_a71161804d040ca10e164578d7e7eb855}\label{interface_m_q_t_t_session_manager_a71161804d040ca10e164578d7e7eb855}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!disconnect@{disconnect}}
\index{disconnect@{disconnect}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{disconnect()}{disconnect()}}
{\footnotesize\ttfamily -\/ (void) disconnect \begin{DoxyParamCaption}{ }\end{DoxyParamCaption}}

Disconnects gracefully from the M\+Q\+TT broker \mbox{\Hypertarget{interface_m_q_t_t_session_manager_ae57cebdca6694242b821cf089fea458d}\label{interface_m_q_t_t_session_manager_ae57cebdca6694242b821cf089fea458d}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:@{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:}}
\index{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:@{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:()}{initWithPersistence:maxWindowSize:maxMessages:maxSize:()}}
{\footnotesize\ttfamily -\/ (\hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} $\ast$) init\+With\+Persistence\+: \begin{DoxyParamCaption}\item[{(B\+O\+OL)}]{persistent }\item[{maxWindowSize:(N\+S\+U\+Integer)}]{max\+Window\+Size }\item[{maxMessages:(N\+S\+U\+Integer)}]{max\+Messages }\item[{maxSize:(N\+S\+U\+Integer)}]{max\+Size }\end{DoxyParamCaption}}

init\+With\+Persistence sets the \hyperlink{protocol_m_q_t_t_persistence-p}{M\+Q\+T\+T\+Persistence} properties other than default 
\begin{DoxyParams}{Parameters}
{\em persistent} & Y\+ES or NO (default) to establish file or in memory persistence. \\
\hline
{\em max\+Window\+Size} & (a positive number, default is 16) to control the number of messages sent before waiting for acknowledgement in Qos 1 or 2. Additional messages are stored and transmitted later. \\
\hline
{\em max\+Size} & (a positive number of bytes, default is 64 MB) to limit the size of the persistence file. Messages published after the limit is reached are dropped. \\
\hline
{\em max\+Messages} & (a positive number, default is 1024) to limit the number of messages stored. Additional messages published are dropped. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the initialized \hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} object 
\end{DoxyReturn}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_acae1db469b891501860bc1fbcfb5d7d7}\label{interface_m_q_t_t_session_manager_acae1db469b891501860bc1fbcfb5d7d7}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:connect\+In\+Foreground\+:@{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:connect\+In\+Foreground\+:}}
\index{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:connect\+In\+Foreground\+:@{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:connect\+In\+Foreground\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:connect\+In\+Foreground\+:()}{initWithPersistence:maxWindowSize:maxMessages:maxSize:connectInForeground:()}}
{\footnotesize\ttfamily -\/ (\hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} $\ast$) init\+With\+Persistence\+: \begin{DoxyParamCaption}\item[{(B\+O\+OL)}]{persistent }\item[{maxWindowSize:(N\+S\+U\+Integer)}]{max\+Window\+Size }\item[{maxMessages:(N\+S\+U\+Integer)}]{max\+Messages }\item[{maxSize:(N\+S\+U\+Integer)}]{max\+Size }\item[{connectInForeground:(B\+O\+OL)}]{connect\+In\+Foreground }\end{DoxyParamCaption}}

init\+With\+Persistence sets the \hyperlink{protocol_m_q_t_t_persistence-p}{M\+Q\+T\+T\+Persistence} properties other than default 
\begin{DoxyParams}{Parameters}
{\em persistent} & Y\+ES or NO (default) to establish file or in memory persistence. \\
\hline
{\em max\+Window\+Size} & (a positive number, default is 16) to control the number of messages sent before waiting for acknowledgement in Qos 1 or 2. Additional messages are stored and transmitted later. \\
\hline
{\em max\+Size} & (a positive number of bytes, default is 64 MB) to limit the size of the persistence file. Messages published after the limit is reached are dropped. \\
\hline
{\em max\+Messages} & (a positive number, default is 1024) to limit the number of messages stored. Additional messages published are dropped. \\
\hline
{\em connect\+In\+Foreground} & Whether or not to connect the \hyperlink{interface_m_q_t_t_session}{M\+Q\+T\+T\+Session} when the app enters the foreground, and disconnect when it becomes inactive. When NO, the caller is responsible for calling -\/connect\+To\+: and -\/disconnect. Defaults to Y\+ES. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the initialized \hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} object 
\end{DoxyReturn}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_a40c9ac2c9110a250caf35b16ff03f008}\label{interface_m_q_t_t_session_manager_a40c9ac2c9110a250caf35b16ff03f008}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:max\+Connection\+Retry\+Interval\+:connect\+In\+Foreground\+:@{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:max\+Connection\+Retry\+Interval\+:connect\+In\+Foreground\+:}}
\index{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:max\+Connection\+Retry\+Interval\+:connect\+In\+Foreground\+:@{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:max\+Connection\+Retry\+Interval\+:connect\+In\+Foreground\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{init\+With\+Persistence\+:max\+Window\+Size\+:max\+Messages\+:max\+Size\+:max\+Connection\+Retry\+Interval\+:connect\+In\+Foreground\+:()}{initWithPersistence:maxWindowSize:maxMessages:maxSize:maxConnectionRetryInterval:connectInForeground:()}}
{\footnotesize\ttfamily -\/ (\hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} $\ast$) init\+With\+Persistence\+: \begin{DoxyParamCaption}\item[{(B\+O\+OL)}]{persistent }\item[{maxWindowSize:(N\+S\+U\+Integer)}]{max\+Window\+Size }\item[{maxMessages:(N\+S\+U\+Integer)}]{max\+Messages }\item[{maxSize:(N\+S\+U\+Integer)}]{max\+Size }\item[{maxConnectionRetryInterval:(N\+S\+Time\+Interval)}]{max\+Retry\+Interval }\item[{connectInForeground:(B\+O\+OL)}]{connect\+In\+Foreground }\end{DoxyParamCaption}}

init\+With\+Persistence sets the \hyperlink{protocol_m_q_t_t_persistence-p}{M\+Q\+T\+T\+Persistence} properties other than default 
\begin{DoxyParams}{Parameters}
{\em persistent} & Y\+ES or NO (default) to establish file or in memory persistence. \\
\hline
{\em max\+Window\+Size} & (a positive number, default is 16) to control the number of messages sent before waiting for acknowledgement in Qos 1 or 2. Additional messages are stored and transmitted later. \\
\hline
{\em max\+Size} & (a positive number of bytes, default is 64 MB) to limit the size of the persistence file. Messages published after the limit is reached are dropped. \\
\hline
{\em max\+Messages} & (a positive number, default is 1024) to limit the number of messages stored. Additional messages published are dropped. \\
\hline
{\em max\+Retry\+Interval} & The duration at which the connection-\/retry timer should be capped. When \hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} receives a Closed\+By\+Broker or an Error event, it will attempt to reconnect to the broker. The time in between connection attempts is doubled each time, until it remains at max\+Retry\+Interval. Defaults to 64 seconds. \\
\hline
{\em connect\+In\+Foreground} & Whether or not to connect the \hyperlink{interface_m_q_t_t_session}{M\+Q\+T\+T\+Session} when the app enters the foreground, and disconnect when it becomes inactive. When NO, the caller is responsible for calling -\/connect\+To\+: and -\/disconnect. Defaults to Y\+ES. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the initialized \hyperlink{interface_m_q_t_t_session_manager}{M\+Q\+T\+T\+Session\+Manager} object 
\end{DoxyReturn}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_a7755c32b246dcefc8ad6d50a51f2e616}\label{interface_m_q_t_t_session_manager_a7755c32b246dcefc8ad6d50a51f2e616}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!send\+Data\+:topic\+:qos\+:retain\+:@{send\+Data\+:topic\+:qos\+:retain\+:}}
\index{send\+Data\+:topic\+:qos\+:retain\+:@{send\+Data\+:topic\+:qos\+:retain\+:}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{send\+Data\+:topic\+:qos\+:retain\+:()}{sendData:topic:qos:retain:()}}
{\footnotesize\ttfamily -\/ (U\+Int16) send\+Data\+: \begin{DoxyParamCaption}\item[{(N\+S\+Data $\ast$)}]{data }\item[{topic:(N\+S\+String $\ast$)}]{topic }\item[{qos:(M\+Q\+T\+T\+Qos\+Level)}]{qos }\item[{retain:(B\+O\+OL)}]{retain\+Flag }\end{DoxyParamCaption}}

publishes data on a given topic at a specified QoS level and retain flag


\begin{DoxyParams}{Parameters}
{\em data} & the data to be sent. length may range from 0 to 268,435,455 -\/ 4 -\/ {\itshape lengthof-\/topic} bytes. Defaults to length 0. \\
\hline
{\em topic} & the Topic to identify the data \\
\hline
{\em retain\+Flag} & if Y\+ES, data is stored on the M\+Q\+TT broker until overwritten by the next publish with retain\+Flag = Y\+ES \\
\hline
{\em qos} & specifies the Quality of Service for the publish qos can be 0, 1, or 2. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the Message Identifier of the P\+U\+B\+L\+I\+SH message. Zero if qos 0. If qos 1 or 2, zero if message was dropped 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
returns immediately. 
\end{DoxyNote}


\subsection{Property Documentation}
\mbox{\Hypertarget{interface_m_q_t_t_session_manager_abc07e05f3c0593b0bd851e8d69255381}\label{interface_m_q_t_t_session_manager_abc07e05f3c0593b0bd851e8d69255381}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!delegate@{delegate}}
\index{delegate@{delegate}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{delegate}{delegate}}
{\footnotesize\ttfamily -\/ (id$<$M\+Q\+T\+T\+Session\+Manager\+Delegate$>$) delegate\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [nonatomic]}, {\ttfamily [weak]}}

the delegate receiving incoming messages \mbox{\Hypertarget{interface_m_q_t_t_session_manager_a2c6507254d370d9f860b299608b37280}\label{interface_m_q_t_t_session_manager_a2c6507254d370d9f860b299608b37280}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!effective\+Subscriptions@{effective\+Subscriptions}}
\index{effective\+Subscriptions@{effective\+Subscriptions}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{effective\+Subscriptions}{effectiveSubscriptions}}
{\footnotesize\ttfamily -\/ (N\+S\+Dictionary$<$N\+S\+String $\ast$, N\+S\+Number $\ast$$>$$\ast$) effective\+Subscriptions\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [nonatomic]}, {\ttfamily [strong]}}

effective\+Subscriptions s a dictionary of N\+S\+Number instances indicating the granted M\+Q\+T\+T\+Qo\+S\+Level, or 0x80 for subscription failure. The keys are topic filters. effective\+Subscriptions is observable and is updated everytime subscriptions change 
\begin{DoxyCode}
    ...
    \hyperlink{interface_m_q_t_t_session_manager}{MQTTSessionManager} *manager = [[\hyperlink{interface_m_q_t_t_session_manager}{MQTTSessionManager} alloc] init];
    manager.\hyperlink{interface_m_q_t_t_session_manager_abc07e05f3c0593b0bd851e8d69255381}{delegate} = \textcolor{keyword}{self};

    [manager addObserver:\textcolor{keyword}{self}
        forKeyPath:\textcolor{stringliteral}{@"effectiveSubscriptions"}
        options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
        context:nil];
        manager.\hyperlink{interface_m_q_t_t_session_manager_a58ff79b8f16b7172d6466dfe55927428}{subscriptions} = [@\{\textcolor{stringliteral}{@"#"}: @(0)\} mutableCopy];
        [manager connectTo: ...
    ...
    [manager removeObserver:\textcolor{keyword}{self} forKeyPath:\textcolor{stringliteral}{@"effectiveSubscriptions"}];
    ...

- (void)observeValueForKeyPath:(NSString *)keyPath
    ofObject:(id)\textcolor{keywordtype}{object}
    change:(NSDictionary<NSString *,id> *)change
    context:(\textcolor{keywordtype}{void} *)context \{
    \textcolor{keywordflow}{if} ([keyPath isEqualToString:\textcolor{stringliteral}{@"effectiveSubscriptions"}]) \{
        \hyperlink{interface_m_q_t_t_session_manager}{MQTTSessionManager} *manager = (\hyperlink{interface_m_q_t_t_session_manager}{MQTTSessionManager} *)\textcolor{keywordtype}{object};
        DDLogVerbose(\textcolor{stringliteral}{@"effectiveSubscriptions changed: %@"}, manager.
      \hyperlink{interface_m_q_t_t_session_manager_a2c6507254d370d9f860b299608b37280}{effectiveSubscriptions});
    \}
\}
\end{DoxyCode}
 \mbox{\Hypertarget{interface_m_q_t_t_session_manager_a9254ba4654f77ec3ff37dab05cd1d4d1}\label{interface_m_q_t_t_session_manager_a9254ba4654f77ec3ff37dab05cd1d4d1}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!host@{host}}
\index{host@{host}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{host}{host}}
{\footnotesize\ttfamily -\/ (N\+S\+String$\ast$) host\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [atomic]}, {\ttfamily [assign]}}

host an N\+S\+String containing the host\+Name or IP address of the Server \mbox{\Hypertarget{interface_m_q_t_t_session_manager_aa2522a9c3be18812cea22cf2f6a40754}\label{interface_m_q_t_t_session_manager_aa2522a9c3be18812cea22cf2f6a40754}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!last\+Error\+Code@{last\+Error\+Code}}
\index{last\+Error\+Code@{last\+Error\+Code}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{last\+Error\+Code}{lastErrorCode}}
{\footnotesize\ttfamily -\/ (N\+S\+Error$\ast$) last\+Error\+Code\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [nonatomic]}, {\ttfamily [assign]}}

Session\+Manager last error code when state equals M\+Q\+T\+T\+Session\+Manager\+State\+Error \mbox{\Hypertarget{interface_m_q_t_t_session_manager_aba240cdc089994d549452cbaecc6af4a}\label{interface_m_q_t_t_session_manager_aba240cdc089994d549452cbaecc6af4a}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!port@{port}}
\index{port@{port}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{port}{port}}
{\footnotesize\ttfamily -\/ (U\+Int32) port\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [atomic]}, {\ttfamily [assign]}}

port an unsigned 32 bit integer containing the IP port number of the Server \mbox{\Hypertarget{interface_m_q_t_t_session_manager_ab85b572d885a43b0faa79373a9cc6913}\label{interface_m_q_t_t_session_manager_ab85b572d885a43b0faa79373a9cc6913}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!session@{session}}
\index{session@{session}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{session}{session}}
{\footnotesize\ttfamily -\/ (\hyperlink{interface_m_q_t_t_session}{M\+Q\+T\+T\+Session}$\ast$) session\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [nonatomic]}, {\ttfamily [strong]}}

Underlying \hyperlink{interface_m_q_t_t_session}{M\+Q\+T\+T\+Session} currently in use. \mbox{\Hypertarget{interface_m_q_t_t_session_manager_a4caf1f5fe21b8d36700d97b68b3bf978}\label{interface_m_q_t_t_session_manager_a4caf1f5fe21b8d36700d97b68b3bf978}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!state@{state}}
\index{state@{state}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{state}{state}}
{\footnotesize\ttfamily -\/ (M\+Q\+T\+T\+Session\+Manager\+State) state\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [nonatomic]}, {\ttfamily [assign]}}

Session\+Manager status \mbox{\Hypertarget{interface_m_q_t_t_session_manager_a58ff79b8f16b7172d6466dfe55927428}\label{interface_m_q_t_t_session_manager_a58ff79b8f16b7172d6466dfe55927428}} 
\index{M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}!subscriptions@{subscriptions}}
\index{subscriptions@{subscriptions}!M\+Q\+T\+T\+Session\+Manager@{M\+Q\+T\+T\+Session\+Manager}}
\subsubsection{\texorpdfstring{subscriptions}{subscriptions}}
{\footnotesize\ttfamily -\/ (N\+S\+Dictionary$<$N\+S\+String $\ast$, N\+S\+Number $\ast$$>$$\ast$) subscriptions\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [nonatomic]}, {\ttfamily [strong]}}

subscriptions is a dictionary of N\+S\+Number instances indicating the M\+Q\+T\+T\+Qo\+S\+Level. The keys are topic filters. The Session\+Manager subscribes to the given subscriptions after successfull (re-\/)connect according to the cleansession parameter and the state of the session as indicated by the broker. Setting a new subscriptions dictionary initiates S\+U\+B\+S\+C\+R\+I\+BE or U\+N\+S\+U\+B\+S\+C\+R\+I\+BE messages by Session\+Manager by comparing the old and new subscriptions. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
M\+Q\+T\+T\+Session\+Manager.\+h\end{DoxyCompactItemize}
