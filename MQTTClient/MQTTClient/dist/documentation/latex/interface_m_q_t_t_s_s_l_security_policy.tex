\hypertarget{interface_m_q_t_t_s_s_l_security_policy}{}\section{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy Class Reference}
\label{interface_m_q_t_t_s_s_l_security_policy}\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}


{\ttfamily \#import $<$M\+Q\+T\+T\+S\+S\+L\+Security\+Policy.\+h$>$}

Inheritance diagram for M\+Q\+T\+T\+S\+S\+L\+Security\+Policy\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{interface_m_q_t_t_s_s_l_security_policy}
\end{center}
\end{figure}
\subsection*{Instance Methods}
\begin{Indent}\textbf{ Evaluating Server Trust}\par
{\em 

 

 }\begin{DoxyCompactItemize}
\item 
(B\+O\+OL) -\/ \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a1d6690010fc530144d98eaf31c9af7e4}{evaluate\+Server\+Trust\+:for\+Domain\+:}
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Class Methods}
\begin{Indent}\textbf{ Getting Specific Security Policies}\par
{\em 

 

 }\begin{DoxyCompactItemize}
\item 
(instancetype) + \hyperlink{interface_m_q_t_t_s_s_l_security_policy_abf1594bd6fedb9222d1b4b72b972c59a}{default\+Policy}
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Initialization}\par
{\em 

 

 }\begin{DoxyCompactItemize}
\item 
(instancetype) + \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a7d009f8f895d9305e5025bf37fda636d}{policy\+With\+Pinning\+Mode\+:}
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
M\+Q\+T\+T\+S\+S\+L\+Pinning\+Mode \hyperlink{interface_m_q_t_t_s_s_l_security_policy_aca548d3c82c982c275e6c68d92648d89}{S\+S\+L\+Pinning\+Mode}
\item 
B\+O\+OL \hyperlink{interface_m_q_t_t_s_s_l_security_policy_ad54371d7cfb587c908173d032df33dbb}{validates\+Certificate\+Chain}
\item 
N\+S\+Array $\ast$ \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a83bc83437d250926466effce0a949371}{pinned\+Certificates}
\item 
B\+O\+OL \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a42fe688d550833a1f903be92b72cf384}{allow\+Invalid\+Certificates}
\item 
B\+O\+OL \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a905b5b1a0d5498ed11d36b9ca60514fc}{validates\+Domain\+Name}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
{\ttfamily \hyperlink{interface_m_q_t_t_s_s_l_security_policy}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}} evaluates server trust against pinned X.\+509 certificates and public keys over secure connections.

If your app using security model which require pinning S\+SL certificates to helps prevent man-\/in-\/the-\/middle attacks and other vulnerabilities. you need to set security\+Policy to properly value(see \hyperlink{_m_q_t_t_s_s_l_security_policy_8h_source}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy.\+h} for more detail).

N\+O\+TE\+: about self-\/signed server certificates\+: if your server using Self-\/signed certificates to establish S\+S\+L/\+T\+LS connection, you need to set property\+: \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a42fe688d550833a1f903be92b72cf384}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy.\+allow\+Invalid\+Certificates}=Y\+ES.

If S\+SL is enabled, by default it only evaluate server\textquotesingle{}s certificates using CA infrastructure, and for most case, this type of check is enough. However, if your app using security model which require pinning S\+SL certificates to helps prevent man-\/in-\/the-\/middle attacks and other vulnerabilities. you may need to set security\+Policy to properly value(see \hyperlink{_m_q_t_t_s_s_l_security_policy_8h_source}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy.\+h} for more detail).

N\+O\+TE\+: about self-\/signed server certificates\+: In CA infrastructure, you may establish a S\+S\+L/\+T\+LS connection with server which using self-\/signed certificates by install the certificates into OS keychain(either programmatically or manually). however, this method has some disadvantages\+:
\begin{DoxyEnumerate}
\item every socket you app created will trust certificates you added.
\item if user choice to remove certificates from keychain, you app need to handling certificates re-\/adding.
\end{DoxyEnumerate}

If you only want to verify the cert for the socket you are creating and for no other sockets in your app, you need to use \hyperlink{interface_m_q_t_t_s_s_l_security_policy}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}. And if you use self-\/signed server certificates, your need to set property\+: \hyperlink{interface_m_q_t_t_s_s_l_security_policy_a42fe688d550833a1f903be92b72cf384}{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy.\+allow\+Invalid\+Certificates}=Y\+ES

Adding pinned S\+SL certificates to your app helps prevent man-\/in-\/the-\/middle attacks and other vulnerabilities. Applications dealing with sensitive customer data or financial information are strongly encouraged to route all communication over an S\+S\+L/\+T\+LS connection with S\+SL pinning configured and enabled. 

\subsection{Method Documentation}
\mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_abf1594bd6fedb9222d1b4b72b972c59a}\label{interface_m_q_t_t_s_s_l_security_policy_abf1594bd6fedb9222d1b4b72b972c59a}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!default\+Policy@{default\+Policy}}
\index{default\+Policy@{default\+Policy}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{default\+Policy()}{defaultPolicy()}}
{\footnotesize\ttfamily + (instancetype) default\+Policy \begin{DoxyParamCaption}{ }\end{DoxyParamCaption}}

Returns the shared default security policy, which does not allow invalid certificates, validates domain name, and does not validate against pinned certificates or public keys.

\begin{DoxyReturn}{Returns}
The default security policy. 
\end{DoxyReturn}
\mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_a1d6690010fc530144d98eaf31c9af7e4}\label{interface_m_q_t_t_s_s_l_security_policy_a1d6690010fc530144d98eaf31c9af7e4}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!evaluate\+Server\+Trust\+:for\+Domain\+:@{evaluate\+Server\+Trust\+:for\+Domain\+:}}
\index{evaluate\+Server\+Trust\+:for\+Domain\+:@{evaluate\+Server\+Trust\+:for\+Domain\+:}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{evaluate\+Server\+Trust\+:for\+Domain\+:()}{evaluateServerTrust:forDomain:()}}
{\footnotesize\ttfamily -\/ (B\+O\+OL) evaluate\+Server\+Trust\+: \begin{DoxyParamCaption}\item[{(Sec\+Trust\+Ref)}]{server\+Trust }\item[{forDomain:(N\+S\+String $\ast$)}]{domain }\end{DoxyParamCaption}}

Whether or not the specified server trust should be accepted, based on the security policy.

This method should be used when responding to an authentication challenge from a server.


\begin{DoxyParams}{Parameters}
{\em server\+Trust} & The X.\+509 certificate trust of the server. \\
\hline
{\em domain} & The domain of server\+Trust. If {\ttfamily nil}, the domain will not be validated.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether or not to trust the server. 
\end{DoxyReturn}
\mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_a7d009f8f895d9305e5025bf37fda636d}\label{interface_m_q_t_t_s_s_l_security_policy_a7d009f8f895d9305e5025bf37fda636d}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!policy\+With\+Pinning\+Mode\+:@{policy\+With\+Pinning\+Mode\+:}}
\index{policy\+With\+Pinning\+Mode\+:@{policy\+With\+Pinning\+Mode\+:}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{policy\+With\+Pinning\+Mode\+:()}{policyWithPinningMode:()}}
{\footnotesize\ttfamily + (instancetype) policy\+With\+Pinning\+Mode\+: \begin{DoxyParamCaption}\item[{(M\+Q\+T\+T\+S\+S\+L\+Pinning\+Mode)}]{pinning\+Mode }\end{DoxyParamCaption}}

Creates and returns a security policy with the specified pinning mode.


\begin{DoxyParams}{Parameters}
{\em pinning\+Mode} & The S\+SL pinning mode.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A new security policy. 
\end{DoxyReturn}


\subsection{Property Documentation}
\mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_a42fe688d550833a1f903be92b72cf384}\label{interface_m_q_t_t_s_s_l_security_policy_a42fe688d550833a1f903be92b72cf384}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!allow\+Invalid\+Certificates@{allow\+Invalid\+Certificates}}
\index{allow\+Invalid\+Certificates@{allow\+Invalid\+Certificates}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{allow\+Invalid\+Certificates}{allowInvalidCertificates}}
{\footnotesize\ttfamily -\/ (B\+O\+OL) allow\+Invalid\+Certificates\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [nonatomic]}, {\ttfamily [assign]}}

Whether or not to trust servers with an invalid or expired S\+SL certificates. Defaults to {\ttfamily NO}. Note\+: If your server-\/certificates are self signed, your should set this property to \textquotesingle{}Y\+ES\textquotesingle{}. \mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_a83bc83437d250926466effce0a949371}\label{interface_m_q_t_t_s_s_l_security_policy_a83bc83437d250926466effce0a949371}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!pinned\+Certificates@{pinned\+Certificates}}
\index{pinned\+Certificates@{pinned\+Certificates}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{pinned\+Certificates}{pinnedCertificates}}
{\footnotesize\ttfamily -\/ (N\+S\+Array$\ast$) pinned\+Certificates\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [nonatomic]}, {\ttfamily [strong]}}

The certificates used to evaluate server trust according to the S\+SL pinning mode. By default, this property is set to any ({\ttfamily .cer}) certificates included in the app bundle. Note\+: Array item type\+: N\+S\+Data -\/ Bytes of X.\+509 certificate file in der format. Note that if you create an array with duplicate certificates, the duplicate certificates will be removed. \mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_aca548d3c82c982c275e6c68d92648d89}\label{interface_m_q_t_t_s_s_l_security_policy_aca548d3c82c982c275e6c68d92648d89}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!S\+S\+L\+Pinning\+Mode@{S\+S\+L\+Pinning\+Mode}}
\index{S\+S\+L\+Pinning\+Mode@{S\+S\+L\+Pinning\+Mode}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{S\+S\+L\+Pinning\+Mode}{SSLPinningMode}}
{\footnotesize\ttfamily -\/ (M\+Q\+T\+T\+S\+S\+L\+Pinning\+Mode) S\+S\+L\+Pinning\+Mode\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [nonatomic]}, {\ttfamily [assign]}}

The criteria by which server trust should be evaluated against the pinned S\+SL certificates. Defaults to {\ttfamily M\+Q\+T\+T\+S\+S\+L\+Pinning\+Mode}. \mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_ad54371d7cfb587c908173d032df33dbb}\label{interface_m_q_t_t_s_s_l_security_policy_ad54371d7cfb587c908173d032df33dbb}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!validates\+Certificate\+Chain@{validates\+Certificate\+Chain}}
\index{validates\+Certificate\+Chain@{validates\+Certificate\+Chain}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{validates\+Certificate\+Chain}{validatesCertificateChain}}
{\footnotesize\ttfamily -\/ (B\+O\+OL) validates\+Certificate\+Chain\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [nonatomic]}, {\ttfamily [assign]}}

Whether to evaluate an entire S\+SL certificate chain, or just the leaf certificate. Defaults to {\ttfamily Y\+ES}. \mbox{\Hypertarget{interface_m_q_t_t_s_s_l_security_policy_a905b5b1a0d5498ed11d36b9ca60514fc}\label{interface_m_q_t_t_s_s_l_security_policy_a905b5b1a0d5498ed11d36b9ca60514fc}} 
\index{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}!validates\+Domain\+Name@{validates\+Domain\+Name}}
\index{validates\+Domain\+Name@{validates\+Domain\+Name}!M\+Q\+T\+T\+S\+S\+L\+Security\+Policy@{M\+Q\+T\+T\+S\+S\+L\+Security\+Policy}}
\subsubsection{\texorpdfstring{validates\+Domain\+Name}{validatesDomainName}}
{\footnotesize\ttfamily -\/ (B\+O\+OL) validates\+Domain\+Name\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [nonatomic]}, {\ttfamily [assign]}}

Whether or not to validate the domain name in the certificate\textquotesingle{}s CN field. Defaults to {\ttfamily Y\+ES}. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
M\+Q\+T\+T\+S\+S\+L\+Security\+Policy.\+h\end{DoxyCompactItemize}
